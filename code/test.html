<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>r_animate test</title>
</head>
<body>
<div class="playground">
    <div id="rect"></div>
    <div id="rect2"></div>
</div>
</body>

<script type="module">
    import { r_register, act } from "https://unpkg.com/r_animate/index.js";

    const rect = document.getElementById('rect')
    const rect2 = document.getElementById('rect2')
    r_register(rect)
    r_register(rect2)
    rect.r_animate({
        transform: 'scale([1~2])',
        loop: 3,
        loop_mode: 'alternate'
    }).r_animate({
        transform: 'rotate([0~0.25]turn)'
    }).r_animate({
        transform: 'rotate([0~0.25]turn)',
        reverse: true
    }).r_animate({
        transform: 'rotateX([0~1]turn)'
    }).r_animate({
        transform: 'rotateY([0~1]turn)'
    }).r_animate({
        borderRadius: '[0~50]%',
        loop: 1,
        loop_mode: 'alternate'
    }).r_then(() => {
        rect2.r_animate({
            opacity: '[0~1]',
            transform: 'scale([0~1]) rotateZ([0~1]turn)',
        }).r_animate({
            backgroundColor: 'rgb(68,68,68)'
        })
    })
</script>
<script>
</script>
</html>
<style>
    body {
        padding: 0;
        margin: 0;
    }

    #rect {
        position: absolute;
        width: 100px;
        height: 100px;
        background-color: #444444;
    }

    #rect2 {
        position: absolute;
        width: 100px;
        height: 100px;
        background-color: #b0b0b0;
        opacity: 0;
    }

    .playground {
        height: 100vh;
        display: flex;
        justify-content: center;
        align-items: center;
    }
</style>